<!DOCTYPE html>
<html>
<head>
    <title>Book Clubs</title>
</head>
<body>

  <h1 style="text-align: center">Book Club</h1>
    
<script>


var bookRatings=[]

function changeStar(id) {
    if (document.getElementById(id).src == "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png") {
        document.getElementById(id).src = "https://cdn-icons-png.flaticon.com/256/668/668705.png"
    } else {
        document.getElementById(id).src = "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png"
    }
}


var bookNames = ["Matilda","Charlie and the Chocolate Factory","Diary of a Wimpy Kid"]

var authorNames = ["Roald Dahl","Roald Dahl","Jeff Kinney"]

var imageLinks = [
"https://imagessl3.casadellibro.com/a/l/s5/73/9788420482873.webp",
"https://m.media-amazon.com/images/I/81Dp5Of3zeL._UF1000,1000_QL80_.jpg",
"https://m.media-amazon.com/images/I/81R2N4PRuUL.jpg"]

var bookRatings=[0,0,0]


function rateBook(id)
{
for (var i = 0; i < bookNames.length; i++) {
if (bookNames[i]==id){
var count=0
for(var j=1; j<=5; j++){
var imageId=id+j

if(document.getElementById(imageId).src=="https://cdn-icons-png.flaticon.com/256/668/668705.png")
count++}

bookRatings[i]=count
console.log(bookRatings)

}
}
}


for (var i = 0; i < imageLinks.length; i++) {
    var img = document.createElement("img")
    img.setAttribute("src", imageLinks[i])
    img.setAttribute("height", "200")
    img.setAttribute("width", "150")
    document.body.appendChild(img)

var br = document.createElement("br")
document.body.appendChild(br)

var pBook = document.createElement("p")
var bookText = document.createTextNode(bookNames[i])
pBook.appendChild(bookText)
document.body.appendChild(pBook)


var pAuthor = document.createElement("p")
var authorText = document.createTextNode(authorNames[i])
pAuthor.appendChild(authorText)
document.body.appendChild(pAuthor)



var star1 = document.createElement("img")
star1.setAttribute("src", "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png")
star1.setAttribute("height", "20")
star1.setAttribute("width", "20")
star1.setAttribute("id", bookNames[i] + "1")
star1.setAttribute("onclick", "changeStar('" + bookNames[i] + "1')")
document.body.appendChild(star1)

var star2 = document.createElement("img")
star2.setAttribute("src", "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png")
star2.setAttribute("height", "20")
star2.setAttribute("width", "20")
star2.setAttribute("id", bookNames[i] + "2")
star2.setAttribute("onclick", "changeStar('" + bookNames[i] + "2')")
document.body.appendChild(star2)

var star3 = document.createElement("img")
star3.setAttribute("src", "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png")
star3.setAttribute("height", "20")
star3.setAttribute("width", "20")
star3.setAttribute("id", bookNames[i] + "3")
star3.setAttribute("onclick", "changeStar('" + bookNames[i] + "3')")
document.body.appendChild(star3)

var star4 = document.createElement("img")
star4.setAttribute("src", "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png")
star4.setAttribute("height", "20")
star4.setAttribute("width", "20")
star4.setAttribute("id", bookNames[i] + "4")
star4.setAttribute("onclick", "changeStar('" + bookNames[i] + "4')")
document.body.appendChild(star4)

var star5 = document.createElement("img")
star5.setAttribute("src", "https://icons.veryicon.com/png/o/miscellaneous/personal-appropriation/white-star.png")
star5.setAttribute("height", "20")
star5.setAttribute("width", "20")
star5.setAttribute("id", bookNames[i] + "5")
star5.setAttribute("onclick", "changeStar('" + bookNames[i] + "5')")
document.body.appendChild(star5)


br = document.createElement("br")
document.body.appendChild(br)

var rateBtn = document.createElement("input")
rateBtn.setAttribute("type", "button")
rateBtn.setAttribute("value", "rate")
rateBtn.setAttribute("onclick", "rateBook('"+ bookNames[i]+"')")
document.body.appendChild(rateBtn)

br = document.createElement("br")
document.body.appendChild(br)

}

function displayBooksByRating(){
var rating=parseInt(document.getElementById("ratingSelect").value)
document.getElementById("result").innerText=""
for (var i=0; i<bookRatings.length;i++){
if(bookRatings[i]==rating)
{
document.getElementById("result").innerHTML+=bookNames[i]+"<br></br>"
}
}
}

</script>

<br><br>

<select id="ratingSelect">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
</select>

<input type="button" value="display" onclick="displayBooksByRating()">
<p id=result></p>


</body>
</html>












